# SpringBoot é¡¹ç›®åˆå§‹æ¨¡æ¿

> ä½œè€…ï¼š[ç¨‹åºå‘˜äºšå…‹](http://www.isyyk.top)

åŸºäº Java SpringBoot çš„é¡¹ç›®åˆå§‹æ¨¡æ¿ï¼Œæ•´åˆäº†å¸¸ç”¨æ¡†æ¶å’Œä¸»æµä¸šåŠ¡çš„ç¤ºä¾‹ä»£ç ã€‚

åªéœ€ 1 åˆ†é’Ÿå³å¯å®Œæˆå†…å®¹ç½‘ç«™çš„åç«¯ï¼ï¼ï¼å¤§å®¶è¿˜å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šå¿«é€Ÿå¼€å‘è‡ªå·±çš„é¡¹ç›®ã€‚

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
- [æ¨¡æ¿ç‰¹ç‚¹](#æ¨¡æ¿ç‰¹ç‚¹)
- [ä¸šåŠ¡åŠŸèƒ½](#ä¸šåŠ¡åŠŸèƒ½)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [å¿«é€Ÿä¸Šæ‰‹](#å¿«é€Ÿä¸Šæ‰‹)
- [API æ–‡æ¡£](#api-æ–‡æ¡£)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
- [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#è®¸å¯è¯)

## ğŸš€ é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäº Spring Boot 2.7.2 çš„åœ¨çº¿åˆ¤é¢˜ç³»ç»Ÿï¼ˆOJ - Online Judgeï¼‰åç«¯é¡¹ç›®ï¼Œé›†æˆäº†ä¸»æµçš„ä¼ä¸šçº§å¼€å‘æ¡†æ¶å’Œå·¥å…·ï¼Œæä¾›äº†å®Œæ•´çš„ç”¨æˆ·ç®¡ç†ã€é¢˜ç›®ç®¡ç†ã€ä»£ç åˆ¤é¢˜ã€æ–‡ä»¶ä¸Šä¼ ç­‰åŠŸèƒ½ã€‚

### âœ¨ ä¸»è¦ç‰¹æ€§

- ğŸ¯ **å¼€ç®±å³ç”¨**ï¼šæ•´åˆäº†å¸¸ç”¨çš„å¼€å‘æ¡†æ¶å’Œå·¥å…·
- ğŸ” **å®‰å…¨å¯é **ï¼šå®Œå–„çš„æƒé™ç®¡ç†å’Œå®‰å…¨æœºåˆ¶
- ğŸ“Š **é«˜æ€§èƒ½**ï¼šRedisç¼“å­˜ã€ESæœç´¢å¼•æ“ä¼˜åŒ–
- ğŸ§ª **æµ‹è¯•å®Œå¤‡**ï¼šå®Œæ•´çš„å•å…ƒæµ‹è¯•è¦†ç›–
- ğŸ“š **æ–‡æ¡£é½å…¨**ï¼šè¯¦ç»†çš„APIæ–‡æ¡£å’Œä½¿ç”¨è¯´æ˜

## ğŸ”§ ç¯å¢ƒè¦æ±‚

### åŸºç¡€ç¯å¢ƒ

- **JDK**: 1.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Maven**: 3.6.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **MySQL**: 5.7 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Redis**: 5.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Elasticsearch**: 7.x ç‰ˆæœ¬

### æ¨èé…ç½®

- **å†…å­˜**: æœ€å°‘ 2GBï¼Œæ¨è 4GB æˆ–æ›´é«˜
- **ç£ç›˜**: æœ€å°‘ 10GB å¯ç”¨ç©ºé—´
- **æ“ä½œç³»ç»Ÿ**: Windows 10+ / macOS 10.14+ / Ubuntu 18.04+

## ğŸ—ï¸ æ¨¡æ¿ç‰¹ç‚¹

### ä¸»æµæ¡†æ¶ & ç‰¹æ€§

- **Spring Boot 2.7.2** - å¿«é€Ÿæ„å»ºåº”ç”¨
- **Spring MVC** - Webå±‚æ¡†æ¶
- **MyBatis + MyBatis Plus** - æ•°æ®è®¿é—®å±‚ï¼ˆå¼€å¯åˆ†é¡µï¼‰
- **Spring Boot è°ƒè¯•å·¥å…·å’Œé¡¹ç›®å¤„ç†å™¨** - å¼€å‘è°ƒè¯•
- **Spring AOP åˆ‡é¢ç¼–ç¨‹** - æ¨ªåˆ‡å…³æ³¨ç‚¹å¤„ç†
- **Spring Scheduler å®šæ—¶ä»»åŠ¡** - å®šæ—¶ä»»åŠ¡è°ƒåº¦
- **Spring äº‹åŠ¡æ³¨è§£** - äº‹åŠ¡ç®¡ç†

### æ•°æ®å­˜å‚¨

- **MySQL æ•°æ®åº“** - ä¸»æ•°æ®å­˜å‚¨
- **Redis å†…å­˜æ•°æ®åº“** - ç¼“å­˜å’Œä¼šè¯å­˜å‚¨
- **Elasticsearch æœç´¢å¼•æ“** - å…¨æ–‡æœç´¢
- **è…¾è®¯äº‘ COS å¯¹è±¡å­˜å‚¨** - æ–‡ä»¶å­˜å‚¨

### å·¥å…·ç±»

- **Easy Excel** - è¡¨æ ¼å¤„ç†
- **Hutool** - å·¥å…·åº“
- **Gson** - JSONè§£æåº“
- **Apache Commons Lang3** - å·¥å…·ç±»
- **Lombok** - æ³¨è§£ç®€åŒ–ä»£ç 

### ä¸šåŠ¡ç‰¹æ€§

- **Spring Session Redis** - åˆ†å¸ƒå¼ç™»å½•
- **å…¨å±€è¯·æ±‚å“åº”æ‹¦æˆªå™¨** - è®°å½•æ—¥å¿—
- **å…¨å±€å¼‚å¸¸å¤„ç†å™¨** - ç»Ÿä¸€å¼‚å¸¸å¤„ç†
- **è‡ªå®šä¹‰é”™è¯¯ç ** - é”™è¯¯ç ç®¡ç†
- **å°è£…é€šç”¨å“åº”ç±»** - ç»Ÿä¸€å“åº”æ ¼å¼
- **Swagger + Knife4j** - æ¥å£æ–‡æ¡£
- **è‡ªå®šä¹‰æƒé™æ³¨è§£ + å…¨å±€æ ¡éªŒ** - æƒé™æ§åˆ¶
- **å…¨å±€è·¨åŸŸå¤„ç†** - CORSé…ç½®
- **é•¿æ•´æ•°ä¸¢å¤±ç²¾åº¦è§£å†³** - ç²¾åº¦é—®é¢˜å¤„ç†
- **å¤šç¯å¢ƒé…ç½®** - ç¯å¢ƒéš”ç¦»

## ğŸ“¦ ä¸šåŠ¡åŠŸèƒ½

### ç”¨æˆ·ç®¡ç†
- âœ… ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æ³¨é”€
- âœ… ç”¨æˆ·ä¿¡æ¯æ›´æ–°ã€æ£€ç´¢
- âœ… æƒé™ç®¡ç†å’Œè§’è‰²æ§åˆ¶
- âœ… å¾®ä¿¡å¼€æ”¾å¹³å°ç™»å½•é›†æˆ

### å†…å®¹ç®¡ç†
- âœ… å¸–å­åˆ›å»ºã€åˆ é™¤ã€ç¼–è¾‘ã€æ›´æ–°
- âœ… æ•°æ®åº“æ£€ç´¢ã€ESçµæ´»æ£€ç´¢
- âœ… å¸–å­ç‚¹èµã€å–æ¶ˆç‚¹èµ
- âœ… å¸–å­æ”¶è—ã€å–æ¶ˆæ”¶è—ã€æ£€ç´¢å·²æ”¶è—å¸–å­

### æ–‡ä»¶ç®¡ç†
- âœ… åˆ†ä¸šåŠ¡æ–‡ä»¶ä¸Šä¼ 
- âœ… è…¾è®¯äº‘COSå¯¹è±¡å­˜å‚¨é›†æˆ
- âœ… æ–‡ä»¶ç±»å‹éªŒè¯å’Œå®‰å…¨æ£€æŸ¥

### å®šæ—¶ä»»åŠ¡
- âœ… å¸–å­å…¨é‡åŒæ­¥ES
- âœ… å¸–å­å¢é‡åŒæ­¥ES

### å¾®ä¿¡é›†æˆ
- âœ… å¾®ä¿¡å…¬ä¼—å·è®¢é˜…
- âœ… æ”¶å‘æ¶ˆæ¯å¤„ç†
- âœ… èœå•è®¾ç½®

### å•å…ƒæµ‹è¯•

- **JUnit5** - å•å…ƒæµ‹è¯•æ¡†æ¶
- **ç¤ºä¾‹å•å…ƒæµ‹è¯•ç±»** - å®Œæ•´çš„æµ‹è¯•ç¤ºä¾‹

### æ¶æ„è®¾è®¡

- **åˆç†åˆ†å±‚** - Controller/Service/Mapperåˆ†å±‚
- **è®¾è®¡æ¨¡å¼** - ç­–ç•¥æ¨¡å¼ã€å·¥å‚æ¨¡å¼ç­‰
- **ä»£ç è§„èŒƒ** - ç»Ÿä¸€çš„ç¼–ç è§„èŒƒ

## ğŸ“ é¡¹ç›®ç»“æ„

```
yykoj-backend-master/
â”œâ”€â”€ doc/                    # æ–‡æ¡£ç›®å½•
â”‚   â””â”€â”€ swagger.png        # APIæ–‡æ¡£æˆªå›¾
â”œâ”€â”€ sql/                   # æ•°æ®åº“è„šæœ¬
â”‚   â”œâ”€â”€ create_table.sql   # å»ºè¡¨è¯­å¥
â”‚   â””â”€â”€ post_es_mapping.json # ESæ˜ å°„é…ç½®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/com/yyk/oj/
â”‚   â”‚   â”‚   â”œâ”€â”€ annotation/     # è‡ªå®šä¹‰æ³¨è§£
â”‚   â”‚   â”‚   â”œâ”€â”€ aop/           # åˆ‡é¢ç¼–ç¨‹
â”‚   â”‚   â”‚   â”œâ”€â”€ common/        # é€šç”¨ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ config/        # é…ç½®ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ constant/      # å¸¸é‡å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ controller/    # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ esdao/         # ESæ•°æ®è®¿é—®
â”‚   â”‚   â”‚   â”œâ”€â”€ exception/     # å¼‚å¸¸å¤„ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ job/           # å®šæ—¶ä»»åŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ judge/         # ä»£ç åˆ¤é¢˜
â”‚   â”‚   â”‚   â”œâ”€â”€ manager/       # ç®¡ç†å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ mapper/        # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ model/         # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ service/       # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ utils/         # å·¥å…·ç±»
â”‚   â”‚   â”‚   â””â”€â”€ wxmp/          # å¾®ä¿¡ç›¸å…³
â”‚   â”‚   â””â”€â”€ resources/         # èµ„æºæ–‡ä»¶
â”‚   â””â”€â”€ test/                 # æµ‹è¯•ä»£ç 
â”œâ”€â”€ Dockerfile              # Dockeré…ç½®
â”œâ”€â”€ pom.xml                 # Mavené…ç½®
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜
```

## ğŸš€ å¿«é€Ÿä¸Šæ‰‹

> æ‰€æœ‰éœ€è¦ä¿®æ”¹çš„åœ°æ–¹äºšå…‹éƒ½æ ‡è®°äº† `todo`ï¼Œä¾¿äºå¤§å®¶æ‰¾åˆ°ä¿®æ”¹çš„ä½ç½®~

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-username/yykoj-backend-master.git
cd yykoj-backend-master
```

### 2. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿å·²å®‰è£…å¹¶é…ç½®å¥½ä»¥ä¸‹ç¯å¢ƒï¼š
- JDK 1.8+
- Maven 3.6+
- MySQL 5.7+
- Redis 5.0+
- Elasticsearch 7.x

### 3. MySQL æ•°æ®åº“é…ç½®

1ï¼‰ä¿®æ”¹ `application.yml` çš„æ•°æ®åº“é…ç½®ä¸ºä½ è‡ªå·±çš„ï¼š

```yml
spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/my_db?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8
    username: root
    password: 123456
```

2ï¼‰æ‰§è¡Œ `sql/create_table.sql` ä¸­çš„æ•°æ®åº“è¯­å¥ï¼Œè‡ªåŠ¨åˆ›å»ºåº“è¡¨

3ï¼‰å¯åŠ¨é¡¹ç›®ï¼Œè®¿é—® `http://localhost:8101/api/doc.html` å³å¯æ‰“å¼€æ¥å£æ–‡æ¡£ï¼Œä¸éœ€è¦å†™å‰ç«¯å°±èƒ½åœ¨çº¿è°ƒè¯•æ¥å£äº†~

![APIæ–‡æ¡£](doc/swagger.png)

### 4. Redis åˆ†å¸ƒå¼ç™»å½•é…ç½®

1ï¼‰ä¿®æ”¹ `application.yml` çš„ Redis é…ç½®ä¸ºä½ è‡ªå·±çš„ï¼š

```yml
spring:
  redis:
    database: 1
    host: localhost
    port: 6379
    timeout: 5000
    password: 123456
    lettuce:
      pool:
        max-active: 8
        max-wait: -1
        max-idle: 8
        min-idle: 0
```

2ï¼‰ä¿®æ”¹ `application.yml` ä¸­çš„ session å­˜å‚¨æ–¹å¼ï¼š

```yml
spring:
  session:
    store-type: redis
    timeout: 86400
```

3ï¼‰ç§»é™¤ `MainApplication` ç±»å¼€å¤´ `@SpringBootApplication` æ³¨è§£å†…çš„ exclude å‚æ•°ï¼š

ä¿®æ”¹å‰ï¼š

```java
@SpringBootApplication(exclude = {RedisAutoConfiguration.class})
```

ä¿®æ”¹åï¼š

```java
@SpringBootApplication
```

### 5. Elasticsearch æœç´¢å¼•æ“é…ç½®

1ï¼‰ä¿®æ”¹ `application.yml` çš„ Elasticsearch é…ç½®ä¸ºä½ è‡ªå·±çš„ï¼š

```yml
spring:
  elasticsearch:
    uris: http://localhost:9200
    username: root
    password: 123456
    connection-timeout: 5000
    read-timeout: 30000
```

2ï¼‰å¤åˆ¶ `sql/post_es_mapping.json` æ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œé€šè¿‡è°ƒç”¨ Elasticsearch çš„æ¥å£æˆ–è€… Kibana Dev Tools æ¥åˆ›å»ºç´¢å¼•ï¼ˆç›¸å½“äºæ•°æ®åº“å»ºè¡¨ï¼‰

```bash
# ä½¿ç”¨ curl åˆ›å»ºç´¢å¼•
curl -X PUT "localhost:9200/post_v1" -H 'Content-Type: application/json' -d @sql/post_es_mapping.json
```

æˆ–è€…ä½¿ç”¨ Kibana Dev Toolsï¼š

```
PUT post_v1
{
 å‚æ•°è§ sql/post_es_mapping.json æ–‡ä»¶
}
```

3ï¼‰å¼€å¯åŒæ­¥ä»»åŠ¡ï¼Œå°†æ•°æ®åº“çš„å¸–å­åŒæ­¥åˆ° Elasticsearch

æ‰¾åˆ° job ç›®å½•ä¸‹çš„ `FullSyncPostToEs` å’Œ `IncSyncPostToEs` æ–‡ä»¶ï¼Œå–æ¶ˆæ‰ `@Component` æ³¨è§£çš„æ³¨é‡Šï¼Œå†æ¬¡æ‰§è¡Œç¨‹åºå³å¯è§¦å‘åŒæ­¥ï¼š

```java
// todo å–æ¶ˆæ³¨é‡Šå¼€å¯ä»»åŠ¡
//@Component
```

### 6. è…¾è®¯äº‘ COS é…ç½®ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦ä½¿ç”¨æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œè¯·é…ç½®è…¾è®¯äº‘ COSï¼š

```yml
cos:
  client:
    accessKey: your-access-key
    secretKey: your-secret-key
    region: ap-beijing
    bucket: your-bucket-name
```

### 7. å¾®ä¿¡å¼€æ”¾å¹³å°é…ç½®ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦å¾®ä¿¡ç™»å½•åŠŸèƒ½ï¼Œè¯·é…ç½®å¾®ä¿¡å¼€æ”¾å¹³å°ï¼š

```yml
wx:
  open:
    appId: your-app-id
    appSecret: your-app-secret
```

### 8. å¯åŠ¨é¡¹ç›®

```bash
# ç¼–è¯‘é¡¹ç›®
mvn clean compile

# è¿è¡Œæµ‹è¯•
mvn test

# å¯åŠ¨é¡¹ç›®
mvn spring-boot:run
```

æˆ–è€…ç›´æ¥è¿è¡Œ `MainApplication.java` çš„ main æ–¹æ³•ã€‚

## ğŸ“š API æ–‡æ¡£

### æ¥å£æ–‡æ¡£åœ°å€

- **å¼€å‘ç¯å¢ƒ**: http://localhost:8101/api/doc.html
- **æµ‹è¯•ç¯å¢ƒ**: http://your-test-domain/api/doc.html
- **ç”Ÿäº§ç¯å¢ƒ**: http://your-prod-domain/api/doc.html

### ä¸»è¦æ¥å£

#### ç”¨æˆ·ç›¸å…³æ¥å£
- `POST /api/user/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/user/login` - ç”¨æˆ·ç™»å½•
- `GET /api/user/get/current` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `POST /api/user/logout` - ç”¨æˆ·ç™»å‡º
- `POST /api/user/update` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯

#### å¸–å­ç›¸å…³æ¥å£
- `POST /api/post/add` - åˆ›å»ºå¸–å­
- `GET /api/post/get` - è·å–å¸–å­è¯¦æƒ…
- `GET /api/post/list/page` - åˆ†é¡µè·å–å¸–å­åˆ—è¡¨
- `POST /api/post/update` - æ›´æ–°å¸–å­
- `DELETE /api/post/delete` - åˆ é™¤å¸–å­

#### æ–‡ä»¶ä¸Šä¼ æ¥å£
- `POST /api/file/upload` - æ–‡ä»¶ä¸Šä¼ 

### æ¥å£è®¤è¯

å¤§éƒ¨åˆ†æ¥å£éœ€è¦ç™»å½•è®¤è¯ï¼Œè¯·åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ ï¼š

```
Authorization: Bearer your-session-id
```

## ğŸš€ éƒ¨ç½²æŒ‡å—

### å¼€å‘ç¯å¢ƒéƒ¨ç½²

1. ç¡®ä¿æ‰€æœ‰ä¾èµ–æœåŠ¡ï¼ˆMySQLã€Redisã€ESï¼‰å·²å¯åŠ¨
2. ä¿®æ”¹ `application.yml` ä¸­çš„é…ç½®
3. è¿è¡Œ `mvn spring-boot:run` å¯åŠ¨é¡¹ç›®

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### æ–¹å¼ä¸€ï¼šJAR åŒ…éƒ¨ç½²

```bash
# æ‰“åŒ…
mvn clean package -Dmaven.test.skip=true

# è¿è¡Œ
java -jar target/yykoj-backend-1.0.0.jar --spring.profiles.active=prod
```

#### æ–¹å¼äºŒï¼šDocker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t yykoj-backend .

# è¿è¡Œå®¹å™¨
docker run -d -p 8101:8101 --name yykoj-backend yykoj-backend
```

#### æ–¹å¼ä¸‰ï¼šDocker Compose éƒ¨ç½²

åˆ›å»º `docker-compose.yml` æ–‡ä»¶ï¼š

```yaml
version: '3.8'
services:
  app:
    build: .
    ports:
      - "8101:8101"
    environment:
      - SPRING_PROFILES_ACTIVE=prod
    depends_on:
      - mysql
      - redis
      - elasticsearch
  
  mysql:
    image: mysql:5.7
    environment:
      MYSQL_ROOT_PASSWORD: 123456
      MYSQL_DATABASE: yyk_oj
    ports:
      - "3306:3306"
    volumes:
      - mysql_data:/var/lib/mysql
  
  redis:
    image: redis:5.0
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
  
  elasticsearch:
    image: elasticsearch:7.17.0
    environment:
      - discovery.type=single-node
      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
    ports:
      - "9200:9200"
    volumes:
      - es_data:/usr/share/elasticsearch/data

volumes:
  mysql_data:
  redis_data:
  es_data:
```

è¿è¡Œï¼š

```bash
docker-compose up -d
```

## â“ å¸¸è§é—®é¢˜

### Q1: å¯åŠ¨æ—¶æç¤ºæ•°æ®åº“è¿æ¥å¤±è´¥

**A**: è¯·æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. MySQL æœåŠ¡æ˜¯å¦å¯åŠ¨
2. æ•°æ®åº“è¿æ¥é…ç½®æ˜¯å¦æ­£ç¡®
3. æ•°æ®åº“ç”¨æˆ·æƒé™æ˜¯å¦è¶³å¤Ÿ
4. é˜²ç«å¢™æ˜¯å¦é˜»æ­¢äº†è¿æ¥

### Q2: Redis è¿æ¥å¤±è´¥

**A**: è¯·æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. Redis æœåŠ¡æ˜¯å¦å¯åŠ¨
2. Redis é…ç½®æ˜¯å¦æ­£ç¡®
3. Redis å¯†ç æ˜¯å¦æ­£ç¡®
4. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

### Q3: Elasticsearch è¿æ¥å¤±è´¥

**A**: è¯·æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. Elasticsearch æœåŠ¡æ˜¯å¦å¯åŠ¨
2. ES é…ç½®æ˜¯å¦æ­£ç¡®
3. å†…å­˜æ˜¯å¦è¶³å¤Ÿï¼ˆES éœ€è¦è‡³å°‘ 1GB å†…å­˜ï¼‰
4. ç«¯å£æ˜¯å¦è¢«å ç”¨

### Q4: æ–‡ä»¶ä¸Šä¼ å¤±è´¥

**A**: è¯·æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. è…¾è®¯äº‘ COS é…ç½®æ˜¯å¦æ­£ç¡®
2. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
3. æ–‡ä»¶å¤§å°æ˜¯å¦è¶…é™
4. æ–‡ä»¶ç±»å‹æ˜¯å¦æ”¯æŒ

### Q5: å¾®ä¿¡ç™»å½•å¤±è´¥

**A**: è¯·æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. å¾®ä¿¡å¼€æ”¾å¹³å°é…ç½®æ˜¯å¦æ­£ç¡®
2. åº”ç”¨æ˜¯å¦å·²é€šè¿‡å®¡æ ¸
3. å›è°ƒåœ°å€æ˜¯å¦æ­£ç¡®
4. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

## âš¡ æ€§èƒ½ä¼˜åŒ–

### æ•°æ®åº“ä¼˜åŒ–

1. **ç´¢å¼•ä¼˜åŒ–**
   - ä¸ºå¸¸ç”¨æŸ¥è¯¢å­—æ®µæ·»åŠ ç´¢å¼•
   - é¿å…åœ¨ç´¢å¼•å­—æ®µä¸Šä½¿ç”¨å‡½æ•°
   - å®šæœŸåˆ†ææ…¢æŸ¥è¯¢æ—¥å¿—

2. **è¿æ¥æ± é…ç½®**
   ```yml
   spring:
     datasource:
       hikari:
         maximum-pool-size: 20
         minimum-idle: 5
         connection-timeout: 30000
   ```

### Redis ä¼˜åŒ–

1. **å†…å­˜é…ç½®**
   ```yml
   spring:
     redis:
       lettuce:
         pool:
           max-active: 20
           max-idle: 10
           min-idle: 5
   ```

2. **ç¼“å­˜ç­–ç•¥**
   - åˆç†è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´
   - ä½¿ç”¨ç¼“å­˜é¢„çƒ­
   - é¿å…ç¼“å­˜é›ªå´©

### Elasticsearch ä¼˜åŒ–

1. **ç´¢å¼•ä¼˜åŒ–**
   - åˆç†è®¾ç½®åˆ†ç‰‡æ•°
   - å®šæœŸæ¸…ç†æ— ç”¨ç´¢å¼•
   - ä½¿ç”¨æ‰¹é‡æ“ä½œ

2. **æŸ¥è¯¢ä¼˜åŒ–**
   - é¿å…æ·±åº¦åˆ†é¡µ
   - ä½¿ç”¨åˆé€‚çš„æŸ¥è¯¢ç±»å‹
   - åˆç†ä½¿ç”¨èšåˆæŸ¥è¯¢

### JVM ä¼˜åŒ–

```bash
java -Xms2g -Xmx4g -XX:+UseG1GC -jar your-app.jar
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š

### å¦‚ä½•è´¡çŒ®

1. **Fork é¡¹ç›®**
   ```bash
   git clone https://github.com/your-username/yykoj-backend-master.git
   ```

2. **åˆ›å»ºç‰¹æ€§åˆ†æ”¯**
   ```bash
   git checkout -b feature/your-feature-name
   ```

3. **æäº¤æ›´æ”¹**
   ```bash
   git commit -m "feat: add your feature"
   ```

4. **æ¨é€åˆ°åˆ†æ”¯**
   ```bash
   git push origin feature/your-feature-name
   ```

5. **åˆ›å»º Pull Request**

### ä»£ç è§„èŒƒ

- éµå¾ª Java ç¼–ç è§„èŒƒ
- ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å’Œæ–¹æ³•å
- æ·»åŠ å¿…è¦çš„æ³¨é‡Š
- ç¼–å†™å•å…ƒæµ‹è¯•
- ç¡®ä¿ä»£ç é€šè¿‡æ‰€æœ‰æµ‹è¯•

### æäº¤è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: ä»£ç é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) è®¸å¯è¯ã€‚


## ğŸ“ è”ç³»æˆ‘ä»¬

- **ä½œè€…**: ç¨‹åºå‘˜äºšå…‹
- **é‚®ç®±**: yyk020906@163.com
- **ç½‘ç«™**: [http://www.isyyk.top](http://www.isyyk.top)
- **GitHub**: [https://github.com/your-username](https://github.com/your-username)

---

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸ Starï¼